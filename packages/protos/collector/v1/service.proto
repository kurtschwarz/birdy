syntax = "proto3";

import "google/protobuf/timestamp.proto";

package collector.v1;

message Recorder {
  string id = 1;
  string lat = 2;
  string long = 3;
}

message Recording {
  string id = 1;
  google.protobuf.Timestamp startTime = 2;
  google.protobuf.Timestamp endTime = 3;
  bytes buffer = 4;
}

message CollectRequest {
  Recorder recorder = 1;
  Recording recording = 2;
}

message CollectResponse {
  bool ok = 1;
}

service CollectorService {
  rpc Collect (stream CollectRequest) returns (CollectResponse) {}
}
